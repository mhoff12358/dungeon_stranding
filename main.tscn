[gd_scene load_steps=22 format=3 uid="uid://d3h1eupfohnd1"]

[ext_resource type="Script" path="res://scripts/GameState.gd" id="1_giily"]
[ext_resource type="Script" path="res://scripts/out_of_dungeon_connections.gd" id="2_1rkja"]
[ext_resource type="PackedScene" uid="uid://clxavgj2qp884" path="res://inventory_panel.tscn" id="3_ae7ji"]
[ext_resource type="Script" path="res://shop_connections.gd" id="7_xuray"]
[ext_resource type="Script" path="res://scripts/EnterTheDungeon.gd" id="9_cpnir"]
[ext_resource type="Script" path="res://ShopItemViz.gd" id="9_g1ov6"]
[ext_resource type="Script" path="res://SelectedItem.gd" id="9_mks4e"]
[ext_resource type="Script" path="res://Tiles.gd" id="10_50krv"]
[ext_resource type="Script" path="res://scripts/MapControls.gd" id="10_ih4l5"]
[ext_resource type="TileSet" uid="uid://de08x02s8201g" path="res://dungeon_tileset.tres" id="11_ngbcr"]
[ext_resource type="Texture2D" uid="uid://bgruuywc6agcg" path="res://art_assets/Blue_witch/B_witch_idle.png" id="12_25s31"]
[ext_resource type="Script" path="res://scripts/visualizers/FightViz.gd" id="14_gsero"]
[ext_resource type="PackedScene" uid="uid://dnev621h4psxf" path="res://transferrable_inventory_viz.tscn" id="14_w0ts8"]
[ext_resource type="LabelSettings" uid="uid://br8gvbbjg2dej" path="res://ui_scenes/styles/interaction_label_settings.tres" id="16_7ver7"]

[sub_resource type="AtlasTexture" id="AtlasTexture_d8r8h"]
atlas = ExtResource("12_25s31")
region = Rect2(0, 0, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_4di53"]
atlas = ExtResource("12_25s31")
region = Rect2(0, 48, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_840vx"]
atlas = ExtResource("12_25s31")
region = Rect2(0, 96, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_rp4hd"]
atlas = ExtResource("12_25s31")
region = Rect2(0, 144, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_aqcyk"]
atlas = ExtResource("12_25s31")
region = Rect2(0, 192, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_fglww"]
atlas = ExtResource("12_25s31")
region = Rect2(0, 240, 32, 48)

[sub_resource type="SpriteFrames" id="SpriteFrames_xu6xp"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_d8r8h")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4di53")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_840vx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rp4hd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_aqcyk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fglww")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[node name="Control" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="App" type="App" parent="."]

[node name="AspectRatioContainer" type="AspectRatioContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
ratio = 1.7778

[node name="GameStateViz" type="GameStateViz" parent="AspectRatioContainer"]
layout_mode = 2
script = ExtResource("1_giily")

[node name="OutOfDungeonUI" type="OutOfDungeonViz" parent="AspectRatioContainer/GameStateViz"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("2_1rkja")

[node name="InventoryPanel" parent="AspectRatioContainer/GameStateViz/OutOfDungeonUI" instance=ExtResource("3_ae7ji")]
layout_mode = 1
offset_left = 0.0
offset_right = 0.0
grow_horizontal = 1
grow_vertical = 1

[node name="ShopPanel" type="ShopViz" parent="AspectRatioContainer/GameStateViz/OutOfDungeonUI" node_paths=PackedStringArray("shop_item_template")]
shop_item_template = NodePath("ItemsPanel/PurchasableItems/ShopItemViz")
layout_mode = 1
anchors_preset = -1
anchor_left = 0.3
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 0
grow_vertical = 2
script = ExtResource("7_xuray")

[node name="ItemsPanel" type="Control" parent="AspectRatioContainer/GameStateViz/OutOfDungeonUI/ShopPanel"]
layout_mode = 1
anchor_right = 0.6
anchor_bottom = 1.0
grow_horizontal = 0
grow_vertical = 2

[node name="ColorRect" type="ColorRect" parent="AspectRatioContainer/GameStateViz/OutOfDungeonUI/ShopPanel/ItemsPanel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.168627, 0.0392157, 0.168627, 1)

[node name="PurchasableItems" type="Control" parent="AspectRatioContainer/GameStateViz/OutOfDungeonUI/ShopPanel/ItemsPanel"]
layout_mode = 1
anchor_top = 0.1
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ShopItemViz" type="ShopItemViz" parent="AspectRatioContainer/GameStateViz/OutOfDungeonUI/ShopPanel/ItemsPanel/PurchasableItems" node_paths=PackedStringArray("item_name_label", "price_label")]
item_name_label = NodePath("ItemName")
price_label = NodePath("Price")
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 0.025
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("9_g1ov6")

[node name="ItemName" type="Label" parent="AspectRatioContainer/GameStateViz/OutOfDungeonUI/ShopPanel/ItemsPanel/PurchasableItems/ShopItemViz"]
layout_mode = 1
anchors_preset = -1
anchor_right = 0.7
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "Item name"

[node name="Price" type="Label" parent="AspectRatioContainer/GameStateViz/OutOfDungeonUI/ShopPanel/ItemsPanel/PurchasableItems/ShopItemViz"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.7
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "10g"

[node name="EnterTheDungeon" type="Button" parent="AspectRatioContainer/GameStateViz/OutOfDungeonUI/ShopPanel/ItemsPanel" node_paths=PackedStringArray("shop")]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.05
anchor_top = 0.02
anchor_right = 0.3
anchor_bottom = 0.08
text = "Enter the Dungeon"
script = ExtResource("9_cpnir")
shop = NodePath("../..")

[node name="SelectedDescriptionPanel" type="Control" parent="AspectRatioContainer/GameStateViz/OutOfDungeonUI/ShopPanel"]
layout_mode = 1
anchor_left = 0.6
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 0
grow_vertical = 2

[node name="ColorRect" type="ColorRect" parent="AspectRatioContainer/GameStateViz/OutOfDungeonUI/ShopPanel/SelectedDescriptionPanel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.109804, 0.109804, 0.0235294, 1)

[node name="SelectedItem" type="Label" parent="AspectRatioContainer/GameStateViz/OutOfDungeonUI/ShopPanel/SelectedDescriptionPanel"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.05
anchor_top = 0.025
anchor_right = 0.95
anchor_bottom = 0.975
grow_horizontal = 2
grow_vertical = 2
autowrap_mode = 2
script = ExtResource("9_mks4e")

[node name="InDungeonUI" type="InDungeonViz" parent="AspectRatioContainer/GameStateViz"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="FloorViz" type="FloorViz" parent="AspectRatioContainer/GameStateViz/InDungeonUI" node_paths=PackedStringArray("tile_map", "player", "entities")]
tile_map = NodePath("MapControls/TileMap")
player = NodePath("MapControls/TileMap/PlayerEntity")
entities = NodePath("MapControls/TileMap/Entities")
wall_atlas_coord = Vector2i(6, 17)
hallway_atlas_coord = Vector2i(1, 25)
room_atlas_coord = Vector2i(8, 20)
closed_door_atlas_coord = Vector2i(6, 39)
open_door_atlas_coord = Vector2i(6, 38)
stairs_up_atlas_coord = Vector2i(3, 36)
stairs_down_atlas_coord = Vector2i(4, 36)
body_entity_scene_path = "res://tile_entities/body/BodyEntity.tscn"
campfire_entity_scene_path = "res://tile_entities/campfire/CampfireEntity.tscn"
gold_entity_scene_path = "res://tile_entities/gold/GoldEntity.tscn"
chest_entity_scene_path = "res://tile_entities/chest/ChestEntity.tscn"
layout_mode = 1
anchors_preset = -1
anchor_left = 0.3
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ColorRect" type="ColorRect" parent="AspectRatioContainer/GameStateViz/InDungeonUI/FloorViz"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.109804, 0.109804, 0.109804, 1)

[node name="MapControls" type="Control" parent="AspectRatioContainer/GameStateViz/InDungeonUI/FloorViz" node_paths=PackedStringArray("map", "in_dungeon_viz", "floor_viz")]
clip_contents = true
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_force_pass_scroll_events = false
script = ExtResource("10_ih4l5")
map = NodePath("TileMap")
in_dungeon_viz = NodePath("../..")
floor_viz = NodePath("..")

[node name="TileMap" type="TileMap" parent="AspectRatioContainer/GameStateViz/InDungeonUI/FloorViz/MapControls"]
scale = Vector2(1.5, 1.5)
tile_set = ExtResource("11_ngbcr")
format = 2
layer_0/tile_data = PackedInt32Array(655369, 0, 11, 720905, 0, 11, 786442, 0, 11, 851978, 0, 11, 917514, 0, 11, 983051, 0, 11, 1048587, 0, 11, 1114123, 0, 11, 1179660, 0, 11, 1245197, 0, 11, 1245198, 0, 11, 1245199, 0, 11, 1245200, 0, 11, 1179665, 0, 11, 1179666, 0, 11, 1179667, 0, 11, 1114132, 0, 11, 1048596, 0, 11, 983060, 0, 11, 917524, 0, 11, 851988, 0, 11, 786451, 0, 11, 720915, 0, 11, 655379, 0, 11, 589842, 0, 11, 524306, 0, 11, 458770, 0, 11, 393234, 0, 11, 327698, 0, 11, 262162, 0, 11, 262161, 0, 11, 262160, 0, 11, 262159, 0, 11, 262158, 0, 11, 262157, 0, 11, 262156, 0, 11, 262155, 0, 11, 262154, 0, 11, 262153, 0, 11, 327688, 0, 11, 393223, 0, 11, 458758, 0, 11, 524293, 0, 11, 589829, 0, 11, 655365, 0, 11, 720901, 0, 11, 786438, 0, 11, 851974, 0, 11, 917511, 0, 11, 983048, 0, 11, 983049, 0, 11, 1048586, 0, 11, 1048588, 0, 11, 1114125, 0, 11, 1114126, 0, 11, 1114127, 0, 11, 1114128, 0, 11, 1179668, 0, 11, 1179669, 0, 11, 1179670, 0, 11, 1179671, 0, 11, 1179672, 0, 11, 1114136, 0, 11, 1048600, 0, 11, 1048601, 0, 11, 983065, 0, 11, 917530, 0, 11, 851995, 0, 11, 786459, 0, 11, 720923, 0, 11, 655387, 0, 11, 655386, 0, 11, 589850, 0, 11, 589849, 0, 11, 524312, 0, 11, 524311, 0, 11, 458774, 0, 11, 458773, 0, 11, 393236, 0, 11, 393235, 0, 11, 327697, 0, 11, 327696, 0, 11, 0, 0, 11, 1, 0, 11, 65537, 0, 11, 65538, 0, 11, 131075, 0, 11, 196611, 0, 11, 196612, 0, 11)

[node name="Entities" type="Node2D" parent="AspectRatioContainer/GameStateViz/InDungeonUI/FloorViz/MapControls/TileMap"]

[node name="PlayerEntity" type="Node2D" parent="AspectRatioContainer/GameStateViz/InDungeonUI/FloorViz/MapControls/TileMap"]

[node name="Sprite" type="AnimatedSprite2D" parent="AspectRatioContainer/GameStateViz/InDungeonUI/FloorViz/MapControls/TileMap/PlayerEntity"]
scale = Vector2(0.4, 0.4)
sprite_frames = SubResource("SpriteFrames_xu6xp")

[node name="MapControlUI" type="Control" parent="AspectRatioContainer/GameStateViz/InDungeonUI/FloorViz"]
layout_mode = 1
anchors_preset = 0
offset_right = 300.0
offset_bottom = 100.0

[node name="ColorRect" type="ColorRect" parent="AspectRatioContainer/GameStateViz/InDungeonUI/FloorViz/MapControlUI"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.270588, 0.270588, 0.270588, 1)

[node name="FollowPlayerCheckButton" type="CheckButton" parent="AspectRatioContainer/GameStateViz/InDungeonUI/FloorViz/MapControlUI"]
layout_mode = 0
offset_right = 44.0
offset_bottom = 24.0
button_pressed = true
text = "Follow player"

[node name="FightViz" type="FightViz" parent="AspectRatioContainer/GameStateViz/InDungeonUI" node_paths=PackedStringArray("fight_description_label")]
fight_description_label = NodePath("Label")
layout_mode = 1
anchors_preset = -1
anchor_left = 0.3
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("14_gsero")

[node name="ColorRect" type="ColorRect" parent="AspectRatioContainer/GameStateViz/InDungeonUI/FightViz"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.0196078, 0.0196078, 0.0196078, 1)

[node name="Label" type="Label" parent="AspectRatioContainer/GameStateViz/InDungeonUI/FightViz"]
layout_mode = 1
anchors_preset = -1
anchor_top = 0.1
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("10_50krv")

[node name="AdvanceFight" type="Button" parent="AspectRatioContainer/GameStateViz/InDungeonUI/FightViz"]
layout_mode = 1
anchors_preset = -1
anchor_top = 0.02
anchor_bottom = 0.08
text = "Advance Fight"

[node name="InventoryPanel" parent="AspectRatioContainer/GameStateViz/InDungeonUI" instance=ExtResource("3_ae7ji")]
layout_mode = 1
anchor_bottom = 0.7
offset_left = 0.0
offset_right = 0.0
grow_horizontal = 1
grow_vertical = 1

[node name="AvailableInteractionsViz" type="AvailableInteractionsViz" parent="AspectRatioContainer/GameStateViz/InDungeonUI" node_paths=PackedStringArray("interaction_template")]
interaction_template = NodePath("ColorRect/Options/AvailableInteractionViz")
layout_mode = 1
anchors_preset = -1
anchor_top = 0.7
anchor_right = 0.3
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ColorRect" type="ColorRect" parent="AspectRatioContainer/GameStateViz/InDungeonUI/AvailableInteractionsViz"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0.239216, 1)

[node name="Title" type="Label" parent="AspectRatioContainer/GameStateViz/InDungeonUI/AvailableInteractionsViz/ColorRect"]
layout_mode = 0
offset_right = 328.0
offset_bottom = 42.0
text = "Available interactions:"

[node name="Options" type="Control" parent="AspectRatioContainer/GameStateViz/InDungeonUI/AvailableInteractionsViz/ColorRect"]
layout_mode = 1
anchor_left = 0.062
anchor_top = 0.134
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 0.399994
offset_bottom = -0.397583

[node name="AvailableInteractionViz" type="AvailableInteractionViz" parent="AspectRatioContainer/GameStateViz/InDungeonUI/AvailableInteractionsViz/ColorRect/Options" node_paths=PackedStringArray("label")]
label = NodePath("Label")
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 0.1
offset_left = 1.0
offset_right = 1.0

[node name="Button" type="Button" parent="AspectRatioContainer/GameStateViz/InDungeonUI/AvailableInteractionsViz/ColorRect/Options/AvailableInteractionViz"]
layout_mode = 1
anchors_preset = -1
anchor_right = 0.1
anchor_bottom = 1.0

[node name="Label" type="Label" parent="AspectRatioContainer/GameStateViz/InDungeonUI/AvailableInteractionsViz/ColorRect/Options/AvailableInteractionViz"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.12
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="TextureRect" type="TextureRect" parent="AspectRatioContainer/GameStateViz/InDungeonUI/AvailableInteractionsViz/ColorRect/Options/AvailableInteractionViz"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="InteractionViz" type="InteractionViz" parent="AspectRatioContainer/GameStateViz/InDungeonUI"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="DiContext" type="DiContext" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz"]

[node name="SmallInteractions" type="Control" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz"]
layout_mode = 1
anchor_left = 0.25
anchor_top = 0.25
anchor_right = 0.75
anchor_bottom = 0.75
offset_bottom = 40.0

[node name="CampViz" type="CampViz" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions" node_paths=PackedStringArray("amount_label")]
amount_label = NodePath("Amount")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="DiRegistration" type="DiRegistration" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/CampViz"]

[node name="ColorRect" type="ColorRect" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/CampViz"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 0.721569, 1, 1)

[node name="Label" type="Label" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/CampViz"]
layout_mode = 0
offset_left = 371.0
offset_top = 145.997
offset_right = 585.0
offset_bottom = 190.997
text = "Camp amount:"
label_settings = ExtResource("16_7ver7")

[node name="Amount" type="Label" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/CampViz"]
layout_mode = 0
offset_left = 372.0
offset_top = 208.997
offset_right = 586.0
offset_bottom = 253.997
text = "0"
label_settings = ExtResource("16_7ver7")
horizontal_alignment = 1

[node name="Decrease" type="Button" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/CampViz"]
layout_mode = 0
offset_left = 306.0
offset_top = 203.0
offset_right = 347.0
offset_bottom = 234.0
scale = Vector2(2, 2)
text = "<"

[node name="Increase" type="Button" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/CampViz"]
layout_mode = 0
offset_left = 576.0
offset_top = 200.997
offset_right = 617.0
offset_bottom = 231.997
scale = Vector2(2, 2)
text = ">"

[node name="Camp" type="Button" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/CampViz"]
layout_mode = 0
offset_left = 260.0
offset_top = 360.997
offset_right = 320.0
offset_bottom = 391.997
scale = Vector2(2, 2)
text = "Camp"

[node name="Cancel" type="Button" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/CampViz"]
layout_mode = 0
offset_left = 575.0
offset_top = 357.997
offset_right = 635.0
offset_bottom = 388.997
scale = Vector2(2, 2)
text = "Cancel"

[node name="DigViz" type="DigViz" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="DiRegistration" type="DiRegistration" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz"]

[node name="ColorRect" type="ColorRect" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 0.721569, 1, 1)

[node name="Label" type="Label" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz"]
layout_mode = 0
offset_left = 275.0
offset_top = 101.997
offset_right = 662.0
offset_bottom = 146.997
text = "Pick a direction with WASD"
label_settings = ExtResource("16_7ver7")

[node name="Left" type="Button" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz"]
layout_mode = 0
offset_left = 330.0
offset_top = 262.997
offset_right = 353.0
offset_bottom = 293.997
scale = Vector2(2, 2)
text = "<-"

[node name="Right" type="Button" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz"]
layout_mode = 0
offset_left = 428.0
offset_top = 263.997
offset_right = 451.0
offset_bottom = 294.997
scale = Vector2(2, 2)
text = "->"

[node name="Up" type="Button" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz"]
layout_mode = 0
offset_left = 380.0
offset_top = 200.997
offset_right = 403.0
offset_bottom = 231.997
scale = Vector2(2, 2)
text = "^"

[node name="Down" type="Button" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz"]
layout_mode = 0
offset_left = 379.0
offset_top = 331.997
offset_right = 402.0
offset_bottom = 362.997
scale = Vector2(2, 2)
text = "V
"

[node name="Cancel" type="Button" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz"]
layout_mode = 0
offset_left = 550.0
offset_top = 262.997
offset_right = 573.0
offset_bottom = 293.997
scale = Vector2(2, 2)
text = "Cancel"

[node name="LootViz" type="LootViz" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz" node_paths=PackedStringArray("inventory_display_from", "inventory_display_to", "transfer_viz")]
inventory_display_from = NodePath("FromTransferrableInventoryViz")
inventory_display_to = NodePath("ToTransferrableInventoryViz")
transfer_viz = NodePath("TransferViz")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="DiRegistration" type="DiRegistration" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/LootViz"]

[node name="ColorRect" type="ColorRect" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/LootViz"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.811765, 0.815686, 1, 1)

[node name="ToTransferrableInventoryViz" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/LootViz" instance=ExtResource("14_w0ts8")]
layout_mode = 1

[node name="FromTransferrableInventoryViz" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/LootViz" instance=ExtResource("14_w0ts8")]
layout_mode = 1
anchor_left = 0.5
anchor_right = 1.0

[node name="TransferViz" type="TransferViz" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/LootViz"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.25
anchor_top = 0.25
anchor_right = 0.75
anchor_bottom = 0.75

[node name="ColorRect" type="ColorRect" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/LootViz/TransferViz"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 0.839216, 1, 1)

[node name="Title" type="Label" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/LootViz/TransferViz"]
layout_mode = 0
offset_left = 424.0
offset_top = 162.997
offset_right = 546.0
offset_bottom = 207.997
text = "Transfer"
label_settings = ExtResource("16_7ver7")

[node name="Min" type="Label" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/LootViz/TransferViz"]
layout_mode = 0
offset_left = 62.0001
offset_top = 283.997
offset_right = 184.0
offset_bottom = 328.997
text = "Min"
label_settings = ExtResource("16_7ver7")
horizontal_alignment = 2
vertical_alignment = 1

[node name="Max" type="Label" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/LootViz/TransferViz"]
layout_mode = 0
offset_left = 793.0
offset_top = 282.997
offset_right = 915.0
offset_bottom = 327.997
text = "Max"
label_settings = ExtResource("16_7ver7")
vertical_alignment = 1

[node name="Amount" type="Label" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/LootViz/TransferViz"]
layout_mode = 0
offset_left = 429.0
offset_top = 243.997
offset_right = 551.0
offset_bottom = 288.997
text = "Amount"
label_settings = ExtResource("16_7ver7")

[node name="SelectSlider" type="HSlider" parent="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/LootViz/TransferViz"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.2
anchor_top = 0.5
anchor_right = 0.8
anchor_bottom = 0.65
offset_top = 0.00335693
offset_bottom = -7.99567
grow_horizontal = 2
grow_vertical = 2

[connection signal="updated_state" from="AspectRatioContainer/GameStateViz/OutOfDungeonUI/ShopPanel" to="AspectRatioContainer/GameStateViz/OutOfDungeonUI/ShopPanel/SelectedDescriptionPanel/SelectedItem" method="_on_shop_panel_updated_state"]
[connection signal="toggled" from="AspectRatioContainer/GameStateViz/InDungeonUI/FloorViz/MapControlUI/FollowPlayerCheckButton" to="AspectRatioContainer/GameStateViz/InDungeonUI/FloorViz/MapControls" method="_on_follow_player_check_button_toggled"]
[connection signal="pressed" from="AspectRatioContainer/GameStateViz/InDungeonUI/FightViz/AdvanceFight" to="AspectRatioContainer/GameStateViz/InDungeonUI/FightViz" method="_on_advance_fight_pressed"]
[connection signal="pressed" from="AspectRatioContainer/GameStateViz/InDungeonUI/AvailableInteractionsViz/ColorRect/Options/AvailableInteractionViz/Button" to="AspectRatioContainer/GameStateViz/InDungeonUI/AvailableInteractionsViz/ColorRect/Options/AvailableInteractionViz" method="do_interaction"]
[connection signal="pressed" from="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/CampViz/Decrease" to="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/CampViz" method="change_amount" binds= [-50]]
[connection signal="pressed" from="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/CampViz/Increase" to="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/CampViz" method="change_amount" binds= [50]]
[connection signal="pressed" from="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/CampViz/Camp" to="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/CampViz" method="camp"]
[connection signal="pressed" from="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/CampViz/Cancel" to="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/CampViz" method="cancel"]
[connection signal="pressed" from="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz/Left" to="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz" method="dig_left"]
[connection signal="pressed" from="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz/Right" to="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz" method="dig_right"]
[connection signal="pressed" from="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz/Up" to="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz" method="dig_up"]
[connection signal="pressed" from="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz/Down" to="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz" method="dig_down"]
[connection signal="pressed" from="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz/Cancel" to="AspectRatioContainer/GameStateViz/InDungeonUI/InteractionViz/SmallInteractions/DigViz" method="cancel"]
